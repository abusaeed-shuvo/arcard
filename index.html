<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>AR Business Card</title>
		<script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
			rel="stylesheet"
		/>
		<style>
			body {
				margin: 0;
				overflow: hidden;
				font-family: "Montserrat", sans-serif;
				background: #6d6666;
			}

			/* Camera video style (fixed position) */
			#cameraFeed {
				position: fixed;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				object-fit: cover;
				z-index: -1;
			}

			/* Fixed video at top */
			#fixedVideo {
				position: fixed;
				left: 50%;
				top: 0px;
				transform: translateX(-50%);
				width: auto;
				height: 25%;
				border-radius: 12px;
				box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
				z-index: 20;
				object-fit: cover;
			}

			/* Logo always visible at center-bottom */
			#logoBox {
				margin-top: 10px;
				position: fixed;
				left: 50%;
				display: flex;
				flex-direction: row;
				align-items: center;
				justify-content: center;
				gap: 12px;
				top: 25%;
				transform: translateX(-50%);
				text-align: center;
				z-index: 20;
				color: white;
			}

			#logoBox img {
				width: 100px;
				height: 100px;
				object-fit: cover;
				border-radius: 50%;
				border: 2px solid white;
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
			}

			#logoBox h2 {
				margin: 8px 0 2px;
				font-size: 1.2em;
			}

			#logoBox p {
				margin: 0;
				font-size: 0.95em;
				opacity: 0.85;
			}
			#contactContainer {
				position: fixed;
				left: 50%;
				bottom: calc(24px + 100px + 12px);
				transform: translateX(-50%);
				display: flex;
				flex-direction: column;
				align-items: flex-start; /* align children to start */
				gap: 1rem; /* use relative spacing */
				z-index: 20;
				width: 90%; /* relative width */
				max-width: 400px; /* optional max width */
				border-radius: 0.5rem;
				background-color: rgba(0, 0, 0, 0.4);
				backdrop-filter: blur(6px);
			}

			/* Each contact item */
			.contact-container {
				display: flex;
				flex-direction: row;
				justify-content: flex-start; /* align children left */
				align-items: center;
				gap: 0.2rem; /* relative spacing */
				cursor: pointer;
				transition: transform 0.2s ease, opacity 0.2s ease,
					background-color 0.2s ease, padding 0.2s ease, box-shadow 0.2s ease;
				padding: 0.5rem 1rem; /* relative padding */
				border-radius: 0.5rem;
				background-color: rgba(0, 0, 0, 0);
			}
			.contact-container:hover {
				transform: scale(1.05);
				opacity: 0.95;
				background-color: rgba(0, 0, 0, 0.4);
				backdrop-filter: blur(6px);
				box-shadow: 0 -0.25rem 0.625rem rgba(0, 0, 0, 0.3);
			}

			.contact-container h2 {
				margin: 0;
				font-size: 1em;
				color: white;
				word-break: break-word; /* keep text inside container */
			}

			/* Contact icon */
			.contact-icon {
				width: 3rem;
				height: 3rem;
				flex-shrink: 0; /* keeps icon size consistent */
			}
			/* Social Container at bottom */
			#socialContainer {
				position: fixed;
				left: 50%;
				bottom: 0;
				transform: translateX(-50%);
				display: flex;
				flex-direction: row;
				flex-wrap: wrap;
				justify-content: space-evenly;
				align-items: center;
				gap: 1rem;
				padding: 0.75rem 1rem;
				border-radius: 0.75rem;
				width: 95%; /* responsive width */
				max-width: 500px;
				z-index: 10;
				background-color: rgba(0, 0, 0, 0.4);
				backdrop-filter: blur(6px);
			}

			@media (prefers-color-scheme: dark) {
				#socialContainer {
					background-color: rgba(255, 255, 255, 0.15);
				}
				#contactContainer {
					background-color: rgba(255, 255, 255, 0.15);
				}
			}

			@media (prefers-color-scheme: light) {
				#socialContainer {
					background-color: rgba(0, 0, 0, 0.35);
				}
				#contactContainer {
					background-color: rgba(0, 0, 0, 0.35);
				}
			}
			/* Social icons */
			.social-icon {
				width: 3rem;
				height: 3rem;
				cursor: pointer;
				transition: transform 0.2s ease, opacity 0.2s ease;
			}

			.social-icon:hover {
				transform: scale(1.1);
				opacity: 0.9;
			}

			@media (max-width: 500px) {
				.social-icon {
					width: 72px;
					height: 72px;
				}
			}
		</style>
	</head>

	<body>
		<video id="cameraFeed" autoplay playsinline muted></video>

		<video
			id="fixedVideo"
			src="https://abusaeed-shuvo.github.io/arcard/videos/intro.mp4"
			autoplay
			muted
			playsinline
			loop
		></video>
		<!-- <iframe
			id="fixedVideo"
			width="320"
			height="180"
			src="https://www.youtube.com/embed/6VF7ikBwU0U?autoplay=1&mute=1"
			frameborder="0"
			allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
			allowfullscreen
		>
		</iframe> -->

		<div id="logoBox">
			<img src="./img/icon.jpg" alt="Profile" />
			<div>
				<h2>Abusaeed Shuvo</h2>
				<p>Android & AR Developer</p>
			</div>
		</div>
		<div id="contactContainer">
			<div id="phoneIcon" class="contact-container">
				<img class="contact-icon" src="./icons/call.png" />
				<h2>+8801234567890</h2>
			</div>

			<div id="mailIcon" class="contact-container">
				<img class="contact-icon" src="./icons/mail.png" />
				<h2>youremail@example.com</h2>
			</div>

			<div id="locationIcon" class="contact-container">
				<img class="contact-icon" src="./icons/location.png" />
				<h2>123 Main Street, City</h2>
			</div>

			<div id="contactIcon" class="contact-container">
				<img class="contact-icon" src="./icons/contact.png" />
				<h2>Download vCard</h2>
			</div>
		</div>
		<div id="socialContainer">
			<img id="facebookIcon" class="social-icon" src="./icons/facebook.png" />
			<img id="linkedinIcon" class="social-icon" src="./icons/linkedin.png" />
			<img id="whatsappIcon" class="social-icon" src="./icons/whatsapp.png" />
			<img id="websiteIcon" class="social-icon" src="./icons/web.png" />
		</div>

		<script>
			// Open back camera
			async function startCamera() {
				try {
					const stream = await navigator.mediaDevices.getUserMedia({
						video: { facingMode: "environment" },
						audio: false,
					});
					document.getElementById("cameraFeed").srcObject = stream;
				} catch (e) {
					logger(e);
				}
			}
			startCamera();

			// Social actions
			const actions = {
				facebookIcon: () =>
					window.open("https://www.facebook.com/yourusername", "_blank"),
				linkedinIcon: () =>
					window.open("https://www.linkedin.com/in/yourusername", "_blank"),
				whatsappIcon: () =>
					window.open("https://wa.me/8801234567890", "_blank"),
				locationIcon: () =>
					window.open(
						"https://www.google.com/maps?q=123+Main+Street,+City",
						"_blank"
					),
				phoneIcon: () => (window.location.href = "tel:+8801234567890"),
				mailIcon: () => (window.location.href = "mailto:youremail@example.com"),
				websiteIcon: () => window.open("https://www.yourwebsite.com", "_blank"),
				contactIcon: () => window.open("./my-contact.vcf", "_blank"),
			};

			Object.keys(actions).forEach((id) => {
				const el = document.getElementById(id);
				el.addEventListener("click", actions[id]);
				el.addEventListener("touchstart", actions[id]);
			});
		</script>
	</body>
</html>
