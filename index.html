<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>AR Business Card</title>
		<script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
			rel="stylesheet"
		/>
		<style>
			body {
				margin: 0;
				overflow: hidden;
				font-family: "Montserrat", sans-serif;
			}

			/* Camera video style (fixed position) */
			#cameraFeed {
				position: fixed;
				top: 0;
				left: 0;
				width: 100vw;
				height: 100vh;
				object-fit: cover;
				z-index: -1;
			}

			/* Fixed video at top */
			#fixedVideo {
				position: fixed;
				left: 50%;
				top: 5%;
				transform: translateX(-50%);
				aspect-ratio: 20 / 9;
				height: 100px;
				border-radius: 12px;
				box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
				z-index: 20;
				object-fit: cover;
			}

			/* Logo always visible at center-bottom */
			#logoBox {
				position: fixed;
				left: 50%;
				top: 20%;
				transform: translateX(-50%);
				text-align: center;
				z-index: 20;
				color: white;
			}

			#logoBox img {
				width: 100px;
				height: 100px;
				object-fit: cover;
				border-radius: 50%;
				border: 2px solid white;
				box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
			}

			#logoBox h2 {
				margin: 8px 0 2px;
				font-size: 1.2em;
			}

			#logoBox p {
				margin: 0;
				font-size: 0.95em;
				opacity: 0.85;
			}

			#socialContainer {
				position: fixed;
				left: 0;
				right: 0;
				bottom: 0;
				display: flex;
				flex-direction: column;
				flex-wrap: wrap;
				justify-content: space-evenly;
				align-items: center;
				gap: 10px;
				padding: 12px 0;
				z-index: 10;
				background-color: rgba(0, 0, 0, 0.4);
				backdrop-filter: blur(6px);
				box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.3);
			}

			@media (prefers-color-scheme: dark) {
				#socialContainer {
					background-color: rgba(255, 255, 255, 0.15);
				}
			}

			@media (prefers-color-scheme: light) {
				#socialContainer {
					background-color: rgba(0, 0, 0, 0.35);
				}
			}

			.social-icon {
				width: 50px;
				height: 50px;
				cursor: pointer;
				transition: transform 0.2s ease, opacity 0.2s ease;
			}

			.social-icon:hover {
				transform: scale(1.15);
				opacity: 0.9;
			}

			@media (max-width: 500px) {
				.social-icon {
					width: 40px;
					height: 40px;
				}
			}
		</style>
	</head>

	<body>
		<video id="cameraFeed" autoplay playsinline muted></video>

		<video
			id="fixedVideo"
			src="https://abusaeed-shuvo.github.io/arcard/videos/intro.mp4"
			autoplay
			muted
			playsinline
			loop
		></video>

		<div id="logoBox">
			<img
				src="https://abusaeed-shuvo.github.io/arcard/img/profile.png"
				alt="Profile"
			/>
			<h2>Abusaeed Shuvo</h2>
			<p>Android & AR Developer</p>
		</div>

		<div id="socialContainer">
			<div class="row">
				<img id="facebookIcon" class="social-icon" src="./icons/facebook.png" />
				<img id="linkedinIcon" class="social-icon" src="./icons/linkedin.png" />
				<img id="whatsappIcon" class="social-icon" src="./icons/whatsapp.png" />
				<img id="websiteIcon" class="social-icon" src="./icons/web.png" />
			</div>
			<div class="row">
				<img id="phoneIcon" class="social-icon" src="./icons/call.png" />
				<img id="mailIcon" class="social-icon" src="./icons/mail.png" />
				<img id="locationIcon" class="social-icon" src="./icons/location.png" />
				<img id="contactIcon" class="social-icon" src="./icons/contact.png" />
			</div>
		</div>

		<script>
			// Open back camera
			async function startCamera() {
				try {
					const stream = await navigator.mediaDevices.getUserMedia({
						video: { facingMode: "environment" },
						audio: false,
					});
					document.getElementById("cameraFeed").srcObject = stream;
				} catch (e) {
					logger(e);
				}
			}
			startCamera();

			// Social actions
			const actions = {
				facebookIcon: () =>
					window.open("https://www.facebook.com/yourusername", "_blank"),
				linkedinIcon: () =>
					window.open("https://www.linkedin.com/in/yourusername", "_blank"),
				whatsappIcon: () =>
					window.open("https://wa.me/8801234567890", "_blank"),
				locationIcon: () =>
					window.open(
						"https://www.google.com/maps?q=123+Main+Street,+City",
						"_blank"
					),
				phoneIcon: () => (window.location.href = "tel:+8801234567890"),
				mailIcon: () => (window.location.href = "mailto:youremail@example.com"),
				websiteIcon: () => window.open("https://www.yourwebsite.com", "_blank"),
				contactIcon: () => window.open("./my-contact.vcf", "_blank"),
			};

			Object.keys(actions).forEach((id) => {
				const el = document.getElementById(id);
				el.addEventListener("click", actions[id]);
				el.addEventListener("touchstart", actions[id]);
			});
		</script>
	</body>
</html>
