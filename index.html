<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>AR Business Card</title>
		<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
		<script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
		<style>
			body {
				margin: 0;
				overflow: hidden;
			}

			#info {
				position: fixed;
				top: 10px;
				left: 10px;
				background: rgba(0, 0, 0, 0.8);
				color: white;
				padding: 10px;
				border-radius: 5px;
				z-index: 999;
				font-family: Arial, sans-serif;
				font-size: 12px;
			}

			.status {
				color: #ffc107;
			}

			.found {
				color: #4caf50;
			}
		</style>
	</head>
	<body>
		<div id="info">
			<div>Status: <span id="status" class="status">Loading...</span></div>
			<div style="margin-top: 5px; font-size: 10px">Point at Hiro marker</div>
		</div>

		<a-scene
			embedded
			arjs="sourceType: webcam; debugUIEnabled: false;"
			vr-mode-ui="enabled: false"
		>
			<a-marker preset="hiro">
				<!-- Card Base -->
				<a-box
					position="0 0 0"
					width="2"
					height="0.1"
					depth="1.2"
					color="#ffffff"
				>
				</a-box>

				<!-- Logo Cube -->
				<a-box
					position="0 0.3 0"
					rotation="0 45 0"
					width="0.3"
					height="0.3"
					depth="0.3"
					color="#2196F3"
					animation="property: rotation; to: 0 405 0; loop: true; dur: 4000"
				>
				</a-box>

				<!-- Name -->
				<a-text
					value="JOHN DOE"
					align="center"
					color="#000000"
					width="3"
					position="0 0.08 0.55"
				>
				</a-text>

				<!-- Title -->
				<a-text
					value="Creative Developer"
					align="center"
					color="#666666"
					width="2.5"
					position="0 0.08 0.4"
				>
				</a-text>

				<!-- Email Button -->
				<a-box
					position="-0.5 0.08 0.15"
					width="0.6"
					height="0.15"
					depth="0.05"
					color="#4CAF50"
					id="emailBtn"
				>
					<a-text
						value="EMAIL"
						align="center"
						color="#ffffff"
						width="2"
						position="0 0 0.03"
					>
					</a-text>
				</a-box>

				<!-- Website Button -->
				<a-box
					position="0.5 0.08 0.15"
					width="0.6"
					height="0.15"
					depth="0.05"
					color="#2196F3"
					id="webBtn"
				>
					<a-text
						value="WEBSITE"
						align="center"
						color="#ffffff"
						width="1.8"
						position="0 0 0.03"
					>
					</a-text>
				</a-box>

				<!-- Contact Info -->
				<a-text
					value="+1 234 567 890"
					align="center"
					color="#333333"
					width="2"
					position="0 0.08 -0.1"
				>
				</a-text>

				<a-text
					value="john.doe@example.com"
					align="center"
					color="#333333"
					width="1.8"
					position="0 0.08 -0.3"
				>
				</a-text>

				<!-- Floating particles -->
				<a-sphere
					position="0.8 0.5 0"
					radius="0.05"
					color="#FF5722"
					animation="property: position; to: 0.8 0.8 0; dir: alternate; loop: true; dur: 2000"
				>
				</a-sphere>
				<a-sphere
					position="-0.8 0.5 0"
					radius="0.05"
					color="#FFC107"
					animation="property: position; to: -0.8 0.8 0; dir: alternate; loop: true; dur: 2500"
				>
				</a-sphere>
			</a-marker>

			<a-entity camera></a-entity>
		</a-scene>

		<script>
			const statusEl = document.getElementById("status");

			window.addEventListener("load", () => {
				statusEl.textContent = "Camera starting...";

				const scene = document.querySelector("a-scene");
				const marker = document.querySelector("a-marker");

				// Camera ready
				scene.addEventListener("camera-init", () => {
					console.log("Camera initialized");
					statusEl.textContent = "Ready! Point at marker";
				});

				scene.addEventListener("camera-error", (error) => {
					console.error("Camera error:", error);
					statusEl.textContent = "Camera error!";
				});

				// Marker events
				if (marker) {
					marker.addEventListener("markerFound", () => {
						statusEl.textContent = "Marker found! ðŸŽ¯";
						statusEl.className = "found";
						console.log("Marker detected");
					});

					marker.addEventListener("markerLost", () => {
						statusEl.textContent = "Searching...";
						statusEl.className = "status";
						console.log("Marker lost");
					});
				}

				// Button clicks
				setTimeout(() => {
					const emailBtn = document.getElementById("emailBtn");
					const webBtn = document.getElementById("webBtn");

					if (emailBtn) {
						emailBtn.addEventListener("click", () => {
							window.location.href = "mailto:john.doe@example.com";
						});
					}

					if (webBtn) {
						webBtn.addEventListener("click", () => {
							window.open("https://example.com", "_blank");
						});
					}
				}, 2000);
			});
		</script>
	</body>
</html>
